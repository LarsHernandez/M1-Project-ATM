---
title: "Untitled"
author: "Mig"
date: "20 sep 2019"
output: html_document
---

```{r}

library(tidyverse)
library(ggforce)
library(caret)
library(yardstick)
library(knitr)
library(ggthemes)
library(ggridges)
library(kableExtra)
library(VIM)


load(file="generated_data/sATM.Rdata")

sATM %>% group_by(weekday) %>% summarize(n=n()) %>% ggplot(aes(weekday,n)) + geom_col()
sATM %>% group_by(month) %>% summarize(n=n()) %>% ggplot(aes(month,n)) + geom_col()
sATM %>% group_by(day) %>% summarize(n=n()) %>% ggplot(aes(day,n)) + geom_col()

sATM %>% group_by(hour) %>% summarize(n=n()) %>% ggplot(aes(hour,n)) + geom_col()





sATM %>% filter(currency =="EUR") %>% filter(month=="August") %>% group_by(day) %>% summarize(n=n()) %>% ggplot(aes(day,n, fill=)) + geom_col() + 
  scale_x_continuous(breaks = c(1:31))





sATM %>% filter(currency =="EUR") %>% group_by(month) %>% summarize(n=n()) %>% ggplot(aes(month,n)) + geom_col()
sATM %>% filter(currency =="DK") %>% group_by(day) %>% summarize(n=n()) %>% ggplot(aes(day,n)) + geom_col()

sATM %>% filter(atm_streetname =="Trafikcenter SÃ¦by Syd") %>% group_by(month) %>% summarize(n=n()) %>% ggplot(aes(month,n, fill=month)) + geom_col()



sATM %>% group_by(weather_main) %>% 
  summarize(n=n()) %>% 
  ggplot(aes(reorder(weather_main,desc(n)),n)) + 
  geom_col(aes(weather_main), fill=weather_main)

posn_d = position_dodge(width = 0.8)
sATM %>% group_by(card_type, currency) %>% summarize(n=n()) %>% ggplot(aes(card_type, fill=currency)) + geom_bar()


ggplot(data = sATM, aes(card_type, fill=currency)) + geom_bar(position = "fill")
ggplot(data = sATM, aes(card_type, fill=currency)) + geom_bar(position = "dodge")

```



